# Default Configuration Groups
# Define standard settings for repository types that can be combined
# Groups are applied sequentially - later groups override single values, lists are merged
# For actions.allowed_actions_config.patterns_allowed, lists are merged from all groups

# Base configuration applied to all repos in your organization
# Customize this with your organization's default teams
base:
  teams: {}
    # Example: Add your teams here
    # devops: admin
    # developers: push

# OSS - Open Source repositories
# Use this group for public, open-source projects
oss:
  allow_auto_merge: false
  allow_merge_commit: true
  allow_rebase_merge: true
  allow_squash_merge: true
  allow_update_branch: true
  delete_branch_on_merge: true
  has_discussions: true
  has_issues: true
  has_projects: false
  has_wiki: true
  require_linear_history: true
  rulesets:
    - oss-main-protection
  topics:
    - oss
  visibility: public
  vulnerability_alerts: true
  web_commit_signoff_required: true
  # Webhooks: reference by name from config/webhook/ or define inline
  # webhooks:
  #   - slack-notify           # Reference by name
  #   - security-scanner       # Reference by name

# Internal - Private repositories
# Use this group for internal/private projects
# Note: Rulesets require a paid GitHub plan for private repos
internal:
  allow_auto_merge: false
  allow_merge_commit: false
  allow_rebase_merge: true
  allow_squash_merge: true
  allow_update_branch: true
  delete_branch_on_merge: true
  has_discussions: false
  has_issues: true
  has_projects: false
  has_wiki: false
  # Uncomment below if you have a paid GitHub plan
  # rulesets:
  #   - internal-main-protection
  topics:
    - internal
  visibility: private
  vulnerability_alerts: true
  web_commit_signoff_required: true

# Example: Secure Actions group
# Apply this group to repositories that need restricted Actions permissions
# Actions patterns are merged from all groups - this enables supply chain security
# secure-actions:
#   actions:
#     enabled: true
#     allowed_actions: selected
#     allowed_actions_config:
#       github_owned_allowed: true    # Allow github/* actions
#       verified_allowed: true        # Allow verified marketplace actions
#       patterns_allowed:             # Additional allowed patterns
#         - "actions/*"               # Official GitHub actions
#         - "your-org/*"              # Your organization's actions
  # Webhooks: reference by name from config/webhook/ or define inline
  # webhooks:
  #   - jenkins-ci             # Reference by name
  #   - slack-notify           # Reference by name
